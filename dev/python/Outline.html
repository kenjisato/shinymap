<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>outline – shinymap</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-0b37c64f34216b628666a8dac638b53b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">shinymap</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Get Started</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../vignettes/index.html"> 
<span class="menu-text">Vignettes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../python/index.html"> 
<span class="menu-text">Python API</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../typescript/index.html"> 
<span class="menu-text">TypeScript API</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kenjisato/shinymap"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#shinymap.Outline" id="toc-shinymap.Outline" class="nav-link active" data-scroll-target="#shinymap.Outline">Outline</a>
  <ul class="collapse">
  <li><a href="#attributes" id="toc-attributes" class="nav-link" data-scroll-target="#attributes">Attributes</a></li>
  <li><a href="#note-on-aesthetics" id="toc-note-on-aesthetics" class="nav-link" data-scroll-target="#note-on-aesthetics">Note on aesthetics</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#shinymap.Outline.annotation_ids" id="toc-shinymap.Outline.annotation_ids" class="nav-link" data-scroll-target="#shinymap.Outline.annotation_ids">annotation_ids</a></li>
  <li><a href="#shinymap.Outline.from_dict" id="toc-shinymap.Outline.from_dict" class="nav-link" data-scroll-target="#shinymap.Outline.from_dict">from_dict</a></li>
  <li><a href="#shinymap.Outline.from_json" id="toc-shinymap.Outline.from_json" class="nav-link" data-scroll-target="#shinymap.Outline.from_json">from_json</a></li>
  <li><a href="#shinymap.Outline.from_svg" id="toc-shinymap.Outline.from_svg" class="nav-link" data-scroll-target="#shinymap.Outline.from_svg">from_svg</a></li>
  <li><a href="#shinymap.Outline.groups" id="toc-shinymap.Outline.groups" class="nav-link" data-scroll-target="#shinymap.Outline.groups">groups</a></li>
  <li><a href="#shinymap.Outline.hidden_ids" id="toc-shinymap.Outline.hidden_ids" class="nav-link" data-scroll-target="#shinymap.Outline.hidden_ids">hidden_ids</a></li>
  <li><a href="#shinymap.Outline.layers_dict" id="toc-shinymap.Outline.layers_dict" class="nav-link" data-scroll-target="#shinymap.Outline.layers_dict">layers_dict</a></li>
  <li><a href="#shinymap.Outline.main_regions" id="toc-shinymap.Outline.main_regions" class="nav-link" data-scroll-target="#shinymap.Outline.main_regions">main_regions</a></li>
  <li><a href="#shinymap.Outline.merge_layers" id="toc-shinymap.Outline.merge_layers" class="nav-link" data-scroll-target="#shinymap.Outline.merge_layers">merge_layers</a></li>
  <li><a href="#shinymap.Outline.metadata_dict" id="toc-shinymap.Outline.metadata_dict" class="nav-link" data-scroll-target="#shinymap.Outline.metadata_dict">metadata_dict</a></li>
  <li><a href="#shinymap.Outline.move_group" id="toc-shinymap.Outline.move_group" class="nav-link" data-scroll-target="#shinymap.Outline.move_group">move_group</a></li>
  <li><a href="#shinymap.Outline.move_layer" id="toc-shinymap.Outline.move_layer" class="nav-link" data-scroll-target="#shinymap.Outline.move_layer">move_layer</a></li>
  <li><a href="#shinymap.Outline.overlay_ids" id="toc-shinymap.Outline.overlay_ids" class="nav-link" data-scroll-target="#shinymap.Outline.overlay_ids">overlay_ids</a></li>
  <li><a href="#shinymap.Outline.overlay_regions" id="toc-shinymap.Outline.overlay_regions" class="nav-link" data-scroll-target="#shinymap.Outline.overlay_regions">overlay_regions</a></li>
  <li><a href="#shinymap.Outline.path_as_line" id="toc-shinymap.Outline.path_as_line" class="nav-link" data-scroll-target="#shinymap.Outline.path_as_line">path_as_line</a></li>
  <li><a href="#shinymap.Outline.region_types" id="toc-shinymap.Outline.region_types" class="nav-link" data-scroll-target="#shinymap.Outline.region_types">region_types</a></li>
  <li><a href="#shinymap.Outline.relabel" id="toc-shinymap.Outline.relabel" class="nav-link" data-scroll-target="#shinymap.Outline.relabel">relabel</a></li>
  <li><a href="#shinymap.Outline.set_overlays" id="toc-shinymap.Outline.set_overlays" class="nav-link" data-scroll-target="#shinymap.Outline.set_overlays">set_overlays</a></li>
  <li><a href="#shinymap.Outline.to_dict" id="toc-shinymap.Outline.to_dict" class="nav-link" data-scroll-target="#shinymap.Outline.to_dict">to_dict</a></li>
  <li><a href="#shinymap.Outline.to_json" id="toc-shinymap.Outline.to_json" class="nav-link" data-scroll-target="#shinymap.Outline.to_json">to_json</a></li>
  <li><a href="#shinymap.Outline.underlay_ids" id="toc-shinymap.Outline.underlay_ids" class="nav-link" data-scroll-target="#shinymap.Outline.underlay_ids">underlay_ids</a></li>
  <li><a href="#shinymap.Outline.update_metadata" id="toc-shinymap.Outline.update_metadata" class="nav-link" data-scroll-target="#shinymap.Outline.update_metadata">update_metadata</a></li>
  <li><a href="#shinymap.Outline.viewbox" id="toc-shinymap.Outline.viewbox" class="nav-link" data-scroll-target="#shinymap.Outline.viewbox">viewbox</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="shinymap.Outline" class="level1">
<h1>Outline</h1>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>Outline(regions, metadata<span class="op">=</span><span class="bu">dict</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Canonical outline representation with polymorphic elements.</p>
<p>This class encapsulates SVG outline with metadata. It supports both: - v0.x format: String-based paths (for backward compatibility) - v1.x format: Polymorphic element objects (Circle, Rect, Path, etc.)</p>
<p>The class automatically converts between formats for seamless migration.</p>
<section id="attributes" class="level2 doc-section doc-section-attributes">
<h2 class="doc-section doc-section-attributes anchored" data-anchor-id="attributes">Attributes</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 11%">
<col style="width: 82%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>regions</td>
<td>Regions</td>
<td>Regions object (dict subclass) mapping region IDs to lists of elements (str for v0.x compatibility, Element objects for v1.x)</td>
</tr>
<tr class="even">
<td>metadata</td>
<td>dict[str, Any]</td>
<td>Optional metadata dict (viewBox, overlays, source, license, etc.)</td>
</tr>
</tbody>
</table>
</section>
<section id="note-on-aesthetics" class="level2 doc-section doc-section-note-on-aesthetics">
<h2 class="doc-section doc-section-note-on-aesthetics anchored" data-anchor-id="note-on-aesthetics">Note on aesthetics</h2>
<p>SVG elements preserve aesthetic attributes (fill, stroke, etc.) but these are NOT used by shinymap for rendering. Interactive appearance is controlled via Python API. Preserved values are for SVG export and reference only.</p>
</section>
<section id="examples" class="level2 doc-section doc-section-examples">
<h2 class="doc-section doc-section-examples anchored" data-anchor-id="examples">Examples</h2>
<pre class="pycon"><code>&gt;&gt;&gt; # v0.x format (backward compatible)
&gt;&gt;&gt; data = {"region1": ["M 0 0 L 10 0"], "_metadata": {"viewBox": "0 0 100 100"}}
&gt;&gt;&gt; geo = Outline.from_dict(data)

&gt;&gt;&gt; # v1.x format (polymorphic elements)
&gt;&gt;&gt; from shinymap.svg import Circle
&gt;&gt;&gt; geo = Outline(regions={"r1": [Circle(cx=100, cy=100, r=50)]}, metadata={})</code></pre>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#shinymap.Outline.annotation_ids">annotation_ids</a></td>
<td>Get region IDs in the annotation layer.</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.from_dict">from_dict</a></td>
<td>Load outline from dict (supports v0.x strings and v1.x element dicts).</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.from_json">from_json</a></td>
<td>Load outline from JSON file.</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.from_svg">from_svg</a></td>
<td>Extract outline from SVG file (all element types).</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.groups">groups</a></td>
<td>Get group membership from metadata.</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.hidden_ids">hidden_ids</a></td>
<td>Get region IDs in the hidden layer.</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.layers_dict">layers_dict</a></td>
<td>Get layers configuration dict for JavaScript props.</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.main_regions">main_regions</a></td>
<td>Get main regions (excluding overlay layer).</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.merge_layers">merge_layers</a></td>
<td>Merge provided layers with outline’s metadata.</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.metadata_dict">metadata_dict</a></td>
<td>Build outline metadata dict for JavaScript props.</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.move_group">move_group</a></td>
<td>Rename a region or merge multiple regions into a group (returns new Outline).</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.move_layer">move_layer</a></td>
<td>Move regions to the specified layer (returns new Outline object).</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.overlay_ids">overlay_ids</a></td>
<td>Get region IDs in the overlay layer.</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.overlay_regions">overlay_regions</a></td>
<td>Get overlay regions only.</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.path_as_line">path_as_line</a></td>
<td>Mark regions as lines described in path notation.</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.region_types">region_types</a></td>
<td>Get aesthetic element type for each region.</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.relabel">relabel</a></td>
<td>Rename or merge regions (returns new Outline object).</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.set_overlays">set_overlays</a></td>
<td>Set overlay region IDs in metadata (returns new Outline object).</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.to_dict">to_dict</a></td>
<td>Export to dict in shinymap JSON format.</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.to_json">to_json</a></td>
<td>Write outline to JSON file.</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.underlay_ids">underlay_ids</a></td>
<td>Get region IDs in the underlay layer.</td>
</tr>
<tr class="even">
<td><a href="#shinymap.Outline.update_metadata">update_metadata</a></td>
<td>Update metadata (returns new Outline object).</td>
</tr>
<tr class="odd">
<td><a href="#shinymap.Outline.viewbox">viewbox</a></td>
<td>Get viewBox from metadata, or compute from outline coordinates.</td>
</tr>
</tbody>
</table>
<section id="shinymap.Outline.annotation_ids" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.annotation_ids">annotation_ids</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Outline.annotation_ids()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get region IDs in the annotation layer.</p>
<p>The annotation layer renders above hover/selection layers, ensuring text labels and other annotations are always visible.</p>
<section id="returns" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>list[str]</td>
<td>List of region IDs in the annotation layer</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-1" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-1">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_label": [{"type": "text", "x": 50, "y": 50, "text": "A"}],
...     "_metadata": {"annotation": ["_label"]}
... })
&gt;&gt;&gt; geo.annotation_ids()
['_label']</code></pre>
</section>
</section>
<section id="shinymap.Outline.from_dict" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.from_dict">from_dict</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>Outline.from_dict(data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Load outline from dict (supports v0.x strings and v1.x element dicts).</p>
<p>Automatically detects format and converts: - v0.x: String paths → kept as strings (backward compatible) - v1.x: Element dicts → deserialized to Element objects</p>
<section id="parameters" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 8%">
<col style="width: 20%">
<col style="width: 57%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>data</td>
<td>dict[str, Any]</td>
<td>Dictionary with regions and optional _metadata key</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-1" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-1">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>Outline object with normalized list-based regions</td>
</tr>
</tbody>
</table>
</section>
<section id="raises" class="level4 doc-section doc-section-raises">
<h4 class="doc-section doc-section-raises anchored" data-anchor-id="raises">Raises</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>ValueError</td>
<td>If _metadata exists but is not a dict</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-2" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-2">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; # v0.x string format (backward compatible)
&gt;&gt;&gt; outline = Outline.from_dict({"a": "M 0 0 L 10 0"})
&gt;&gt;&gt; list(outline.regions.keys())
['a']

&gt;&gt;&gt; # v0.x list format
&gt;&gt;&gt; outline = Outline.from_dict({"a": ["M 0 0", "L 10 0"]})
&gt;&gt;&gt; outline.regions["a"]
['M 0 0', 'L 10 0']

&gt;&gt;&gt; # v1.x element format
&gt;&gt;&gt; data = {"a": [{"type": "circle", "cx": 100, "cy": 100, "r": 50}]}
&gt;&gt;&gt; outline = Outline.from_dict(data)
&gt;&gt;&gt; outline.regions["a"]
[Circle(cx=100, cy=100, r=50)]</code></pre>
</section>
</section>
<section id="shinymap.Outline.from_json" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.from_json">from_json</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Outline.from_json(json_path)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Load outline from JSON file.</p>
<section id="parameters-1" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-1">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 21%">
<col style="width: 48%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>json_path</td>
<td>str | PathType</td>
<td>Path to JSON file in shinymap format</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-2" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-2">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>Outline object with normalized list-based paths</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-3" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-3">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_json("japan_prefectures.json")  # doctest: +SKIP
&gt;&gt;&gt; geo.regions.keys()  # doctest: +SKIP
dict_keys(['01', '02', ...])</code></pre>
</section>
</section>
<section id="shinymap.Outline.from_svg" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.from_svg">from_svg</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>Outline.from_svg(svg_path, extract_viewbox<span class="op">=</span><span class="va">True</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Extract outline from SVG file (all element types).</p>
<p>Extracts all supported SVG shape elements (path, circle, rect, polygon, ellipse, line, text) and generates auto-IDs for elements without IDs. This is v1.0 behavior - returns polymorphic Element objects instead of path strings.</p>
<p>Preserves SVG aesthetics (fill, stroke, etc.) but these are NOT used by shinymap for rendering. See class docstring for details.</p>
<section id="parameters-2" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-2">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 51%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>svg_path</td>
<td>str | PathType</td>
<td>Path to input SVG file</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td>extract_viewbox</td>
<td>bool</td>
<td>If True, extract viewBox from SVG root element</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-3" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-3">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 11%">
<col style="width: 12%">
<col style="width: 76%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>Outline object with extracted elements (v1.x format)</td>
</tr>
</tbody>
</table>
</section>
<section id="raises-1" class="level4 doc-section doc-section-raises">
<h4 class="doc-section doc-section-raises anchored" data-anchor-id="raises-1">Raises</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>FileNotFoundError</td>
<td>If svg_path does not exist</td>
</tr>
<tr class="even">
<td></td>
<td>ValueError</td>
<td>If SVG parsing fails</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-4" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-4">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; # Basic extraction (all element types)
&gt;&gt;&gt; geo = Outline.from_svg("design.svg")  # doctest: +SKIP
&gt;&gt;&gt; geo.regions.keys()  # doctest: +SKIP
dict_keys(['circle_1', 'rect_1', 'path_1', 'text_1'])

&gt;&gt;&gt; # With transformations
&gt;&gt;&gt; geo = Outline.from_svg("map.svg")  # doctest: +SKIP
&gt;&gt;&gt; geo.relabel({"hokkaido": ["circle_1", "circle_2"]})  # doctest: +SKIP
&gt;&gt;&gt; geo.set_overlays(["_border"])  # doctest: +SKIP
&gt;&gt;&gt; geo.to_json("output.json")  # doctest: +SKIP</code></pre>
</section>
</section>
<section id="shinymap.Outline.groups" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.groups">groups</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>Outline.groups()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get group membership from metadata.</p>
<section id="returns-4" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-4">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 31%">
<col style="width: 59%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>dict[str, list[str]]</td>
<td>Dict mapping group names to lists of region IDs</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-5" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-5">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region1": ["M 0 0"],
...     "region2": ["M 10 0"],
...     "_metadata": {"groups": {"coastal": ["region1", "region2"]}}
... })
&gt;&gt;&gt; geo.groups()
{'coastal': ['region1', 'region2']}</code></pre>
</section>
</section>
<section id="shinymap.Outline.hidden_ids" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.hidden_ids">hidden_ids</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>Outline.hidden_ids()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get region IDs in the hidden layer.</p>
<section id="returns-5" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-5">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>list[str]</td>
<td>List of region IDs in the hidden layer</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-6" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-6">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_temp": ["M 0 0 L 100 0"],
...     "_metadata": {"hidden": ["_temp"]}
... })
&gt;&gt;&gt; geo.hidden_ids()
['_temp']</code></pre>
</section>
</section>
<section id="shinymap.Outline.layers_dict" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.layers_dict">layers_dict</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>Outline.layers_dict()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get layers configuration dict for JavaScript props.</p>
<p>Returns a dict with overlay, underlay, annotation, and hidden keys if any layer configuration is present in metadata. Returns None if no layer configuration exists.</p>
<section id="returns-6" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-6">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 41%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>dict[str, list[str]] | None</td>
<td>Dict with layer configuration or None</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-7" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-7">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_border": ["M 0 0 L 100 0"],
...     "_metadata": {"overlay": ["_border"], "underlay": ["_bg"]}
... })
&gt;&gt;&gt; geo.layers_dict()
{'overlay': ['_border'], 'underlay': ['_bg']}</code></pre>
</section>
</section>
<section id="shinymap.Outline.main_regions" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.main_regions">main_regions</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>Outline.main_regions()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get main regions (excluding overlay layer).</p>
<section id="returns-7" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-7">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 11%">
<col style="width: 79%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Regions</td>
<td>Regions object with main regions {regionId: [element1, …]}</td>
</tr>
<tr class="even">
<td></td>
<td>Regions</td>
<td>(elements can be strings for v0.x or Element objects for v1.x)</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-8" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-8">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_border": ["M 0 0 L 100 0"],
...     "_metadata": {"overlay": ["_border"]}
... })
&gt;&gt;&gt; geo.main_regions()
Regions({
  'region': ['M 0 0'],
})</code></pre>
</section>
</section>
<section id="shinymap.Outline.merge_layers" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.merge_layers">merge_layers</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>Outline.merge_layers(layers)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Merge provided layers with outline’s metadata.</p>
<p>Returns a new Outline with updated metadata containing the merged layers configuration. Explicit layers take priority over existing metadata.</p>
<p>This method follows the immutable pattern - the original Outline is unchanged and a new Outline is returned.</p>
<section id="parameters-3" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-3">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 23%">
<col style="width: 63%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>layers</td>
<td>dict[str, list[str]] | None</td>
<td>Optional explicit layer configuration with keys: underlay, overlay, annotation, hidden</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-8" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-8">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>New Outline with merged layers in metadata</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-9" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-9">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; outline = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_border": ["M 0 0 L 100 0"],
...     "_metadata": {"overlay": ["_border"]}
... })
&gt;&gt;&gt; merged = outline.merge_layers({"underlay": ["_bg"]})
&gt;&gt;&gt; merged.metadata
{'overlay': ['_border'], 'underlay': ['_bg']}
&gt;&gt;&gt; merged = outline.merge_layers({"overlay": ["_custom"]})
&gt;&gt;&gt; merged.metadata
{'overlay': ['_custom']}</code></pre>
</section>
</section>
<section id="shinymap.Outline.metadata_dict" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.metadata_dict">metadata_dict</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>Outline.metadata_dict(view_box<span class="op">=</span><span class="va">None</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Build outline metadata dict for JavaScript props.</p>
<p>Creates the outlineMetadata object sent to React components, containing viewBox and groups information.</p>
<section id="parameters-4" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-4">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 7%">
<col style="width: 34%">
<col style="width: 48%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>view_box</td>
<td>tuple[float, float, float, float] | None</td>
<td>Optional override viewBox tuple. If None, uses self.viewbox()</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-9" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-9">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 29%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>dict[str, Any] | None</td>
<td>Dict with viewBox and groups, or None if no metadata</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-10" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-10">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; outline = Outline.from_dict({
...     "region1": ["M 0 0 L 100 100"],
...     "_metadata": {"groups": {"coastal": ["region1"]}}
... })
&gt;&gt;&gt; outline.metadata_dict()
{'viewBox': '-2.0 -2.0 104.0 104.0', 'groups': {'coastal': ['region1']}}</code></pre>
</section>
</section>
<section id="shinymap.Outline.move_group" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.move_group">move_group</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>Outline.move_group(group_id, <span class="op">*</span>region_ids)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Rename a region or merge multiple regions into a group (returns new Outline).</p>
<p>This is a fluent API for relabeling. It’s equivalent to calling <code>outline.relabel({group_id: list(region_ids)})</code>.</p>
<section id="parameters-5" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-5">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 10%">
<col style="width: 75%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>group_id</td>
<td>str</td>
<td>New ID for the group</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td>*region_ids</td>
<td>str | list[str]</td>
<td>Region IDs to include. Can be: - Multiple string args: move_group(“new”, “id1”, “id2”) - Single list arg: move_group(“new”, [“id1”, “id2”])</td>
<td><code>()</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-10" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-10">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>New Outline with the group applied</td>
</tr>
</tbody>
</table>
</section>
<section id="raises-2" class="level4 doc-section doc-section-raises">
<h4 class="doc-section doc-section-raises anchored" data-anchor-id="raises-2">Raises</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>ValueError</td>
<td>If a region ID doesn’t exist</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-11" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-11">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "path_1": ["M 0 0 L 10 0"],
...     "path_2": ["M 20 0 L 30 0"],
...     "path_3": ["M 40 0 L 50 0"]
... })
&gt;&gt;&gt; # Merge multiple regions
&gt;&gt;&gt; geo2 = geo.move_group("combined", "path_1", "path_2")
&gt;&gt;&gt; sorted(geo2.region_ids())
['combined', 'path_3']
&gt;&gt;&gt; # Rename single region
&gt;&gt;&gt; geo3 = geo.move_group("renamed", "path_3")
&gt;&gt;&gt; "renamed" in geo3.region_ids()
True
&gt;&gt;&gt; # Pass list of IDs
&gt;&gt;&gt; geo4 = geo.move_group("merged", ["path_1", "path_2", "path_3"])
&gt;&gt;&gt; list(geo4.region_ids())
['merged']</code></pre>
</section>
</section>
<section id="shinymap.Outline.move_layer" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.move_layer">move_layer</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>Outline.move_layer(layer, <span class="op">*</span>region_ids)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Move regions to the specified layer (returns new Outline object).</p>
<p>This is a fluent API for assigning regions to layers. Each region can only be in one layer at a time - calling this method removes the region from any previous layer assignment.</p>
<p>Use “main” to move regions back to the main (interactive) layer.</p>
<section id="parameters-6" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-6">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 30%">
<col style="width: 59%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>layer</td>
<td>Literal['main', 'underlay', 'overlay', 'annotation', 'hidden']</td>
<td>Target layer (“main”, “underlay”, “overlay”, “annotation”, or “hidden”). The “annotation” layer renders above hover/selection.</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td>*region_ids</td>
<td>str | list[str]</td>
<td>Region IDs to move. Can be: - Multiple string args: move_layer(“overlay”, “id1”, “id2”) - Single list arg: move_layer(“overlay”, [“id1”, “id2”])</td>
<td><code>()</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-11" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-11">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>New Outline with updated layer assignments</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-12" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-12">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_border": ["M 0 0 L 100 0"],
...     "_grid": ["M 0 50 L 100 50"]
... })
&gt;&gt;&gt; # Move to overlay and underlay
&gt;&gt;&gt; geo2 = (
...     geo.move_layer("overlay", "_border")
...        .move_layer("underlay", "_grid")
... )
&gt;&gt;&gt; geo2.overlay_ids()
['_border']
&gt;&gt;&gt; # Move back to main layer
&gt;&gt;&gt; geo3 = geo2.move_layer("main", "_border")
&gt;&gt;&gt; geo3.overlay_ids()
[]
&gt;&gt;&gt; # Pass list of IDs
&gt;&gt;&gt; geo4 = geo.move_layer("overlay", ["_border", "_grid"])
&gt;&gt;&gt; sorted(geo4.overlay_ids())
['_border', '_grid']</code></pre>
</section>
</section>
<section id="shinymap.Outline.overlay_ids" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.overlay_ids">overlay_ids</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>Outline.overlay_ids()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get region IDs in the overlay layer.</p>
<section id="returns-12" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-12">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>list[str]</td>
<td>List of region IDs in the overlay layer</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-13" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-13">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_border": ["M 0 0 L 100 0"],
...     "_metadata": {"overlay": ["_border"]}
... })
&gt;&gt;&gt; geo.overlay_ids()
['_border']</code></pre>
</section>
</section>
<section id="shinymap.Outline.overlay_regions" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.overlay_regions">overlay_regions</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>Outline.overlay_regions()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get overlay regions only.</p>
<section id="returns-13" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-13">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 79%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Regions</td>
<td>Regions object with overlay regions {regionId: [element1, …]}</td>
</tr>
<tr class="even">
<td></td>
<td>Regions</td>
<td>(elements can be strings for v0.x or Element objects for v1.x)</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-14" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-14">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_border": ["M 0 0 L 100 0"],
...     "_metadata": {"overlay": ["_border"]}
... })
&gt;&gt;&gt; geo.overlay_regions()
Regions({
  '_border': ['M 0 0 L 100 0'],
})</code></pre>
</section>
</section>
<section id="shinymap.Outline.path_as_line" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.path_as_line">path_as_line</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>Outline.path_as_line(<span class="op">*</span>region_ids)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Mark regions as lines described in path notation.</p>
<p>Some SVG paths represent lines (dividers, borders, grids) rather than filled shapes. This method stores the region IDs so that stroke-only aesthetics are automatically applied.</p>
<section id="parameters-7" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-7">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 9%">
<col style="width: 62%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>*region_ids</td>
<td>str</td>
<td>Region IDs containing line elements in path notation</td>
<td><code>()</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-14" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-14">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 77%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>New Outline object with line regions recorded in metadata</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-15" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-15">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0 L 100 100"],
...     "_divider": ["M 50 0 L 50 100"]
... })
&gt;&gt;&gt; geo2 = geo.path_as_line("_divider")
&gt;&gt;&gt; # Now _divider will use stroke-only rendering</code></pre>
</section>
</section>
<section id="shinymap.Outline.region_types" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.region_types">region_types</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>Outline.region_types()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get aesthetic element type for each region.</p>
<p>Returns a mapping of region_id -&gt; element_type where element_type is one of “shape”, “line”, or “text” for aesthetic resolution purposes.</p>
<p>Priority: 1. metadata[“lines_as_path”] - explicit line override for path elements 2. Element’s element_name: - “line” → “line” - “text” → “text” - All others → “shape”</p>
<section id="returns-15" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-15">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 21%">
<col style="width: 69%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>dict[str, str]</td>
<td>Dict mapping region IDs to their aesthetic element types</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-16" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-16">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; # v1.x format with mixed elements
&gt;&gt;&gt; from shinymap.svg import Circle, Line, Text, Path
&gt;&gt;&gt; outline = Outline(regions={
...     "region": [Circle(cx=50, cy=50, r=30)],
...     "_divider": [Line(x1=0, y1=50, x2=100, y2=50)],
...     "label": [Text(x=50, y=50, text="A")],
... }, metadata={})
&gt;&gt;&gt; outline.region_types()
{'region': 'shape', '_divider': 'line', 'label': 'text'}

&gt;&gt;&gt; # Path marked as line via path_as_line()
&gt;&gt;&gt; outline = Outline(regions={
...     "_border": [Path(d="M 0 0 L 100 0")],
... }, metadata={}).path_as_line("_border")
&gt;&gt;&gt; outline.region_types()
{'_border': 'line'}</code></pre>
</section>
</section>
<section id="shinymap.Outline.relabel" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.relabel">relabel</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>Outline.relabel(mapping)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Rename or merge regions (returns new Outline object).</p>
<p>This method applies relabeling transformations to create a new Outline object with renamed or merged regions. Original object is unchanged.</p>
<section id="parameters-8" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-8">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 3%">
<col style="width: 14%">
<col style="width: 76%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>mapping</td>
<td>dict[str, str | list[str]]</td>
<td>Dict mapping new IDs to old ID(s) - String value: rename single region (e.g., {“tokyo”: “path_5”}) - List value: merge multiple regions (e.g., {“hokkaido”: [“path_1”, “path_2”]})</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-16" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-16">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>New Outline object with relabeled regions</td>
</tr>
</tbody>
</table>
</section>
<section id="raises-3" class="level4 doc-section doc-section-raises">
<h4 class="doc-section doc-section-raises anchored" data-anchor-id="raises-3">Raises</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>ValueError</td>
<td>If an old ID in mapping doesn’t exist</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-17" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-17">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "path_1": ["M 0 0 L 10 0"],
...     "path_2": ["M 20 0 L 30 0"],
...     "path_3": ["M 40 0 L 50 0"]
... })
&gt;&gt;&gt; # Rename and merge
&gt;&gt;&gt; geo2 = geo.relabel({
...     "region_a": ["path_1", "path_2"],  # Merge
...     "_border": "path_3"                 # Rename
... })
&gt;&gt;&gt; geo2.regions.keys()
dict_keys(['region_a', '_border'])</code></pre>
</section>
</section>
<section id="shinymap.Outline.set_overlays" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.set_overlays">set_overlays</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>Outline.set_overlays(overlay_ids)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Set overlay region IDs in metadata (returns new Outline object).</p>
<section id="parameters-9" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-9">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 51%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>overlay_ids</td>
<td>list[str]</td>
<td>List of region IDs to mark as overlays</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-17" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-17">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>New Outline object with updated overlay metadata</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-18" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-18">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_border": ["M 0 0 L 100 0"]
... })
&gt;&gt;&gt; geo2 = geo.set_overlays(["_border"])
&gt;&gt;&gt; geo2.overlay_ids()
['_border']</code></pre>
</section>
</section>
<section id="shinymap.Outline.to_dict" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.to_dict">to_dict</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>Outline.to_dict()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Export to dict in shinymap JSON format.</p>
<p>Automatically serializes elements: - v0.x format: Strings are kept as-is - v1.x format: Element objects are serialized to dicts via to_dict()</p>
<section id="returns-18" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-18">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 8%">
<col style="width: 18%">
<col style="width: 74%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>dict[str, Any]</td>
<td>Dict with _metadata and region data (v0.x strings or v1.x element dicts)</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-19" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-19">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; # v0.x format (strings) - empty metadata is omitted
&gt;&gt;&gt; outline = Outline.from_dict({"region": ["M 0 0"]})
&gt;&gt;&gt; outline.to_dict()
{'region': ['M 0 0']}

&gt;&gt;&gt; # v1.x format (elements)
&gt;&gt;&gt; from shinymap.svg import Circle
&gt;&gt;&gt; outline = Outline(regions={"r1": [Circle(cx=100, cy=100, r=50)]}, metadata={})
&gt;&gt;&gt; outline.to_dict()
{'r1': [{'type': 'circle', 'cx': 100, 'cy': 100, 'r': 50}]}</code></pre>
</section>
</section>
<section id="shinymap.Outline.to_json" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.to_json">to_json</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>Outline.to_json(output_path)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Write outline to JSON file.</p>
<section id="parameters-10" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-10">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>output_path</td>
<td>str | PathType</td>
<td>Path to write JSON file</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-20" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-20">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_svg("map.svg")  # doctest: +SKIP
&gt;&gt;&gt; geo.to_json("output.json")  # doctest: +SKIP</code></pre>
</section>
</section>
<section id="shinymap.Outline.underlay_ids" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.underlay_ids">underlay_ids</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>Outline.underlay_ids()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get region IDs in the underlay layer.</p>
<section id="returns-19" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-19">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>list[str]</td>
<td>List of region IDs in the underlay layer</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-21" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-21">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({
...     "region": ["M 0 0"],
...     "_bg": ["M 0 0 L 100 0 L 100 100 L 0 100 Z"],
...     "_metadata": {"underlay": ["_bg"]}
... })
&gt;&gt;&gt; geo.underlay_ids()
['_bg']</code></pre>
</section>
</section>
<section id="shinymap.Outline.update_metadata" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.update_metadata">update_metadata</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>Outline.update_metadata(metadata)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Update metadata (returns new Outline object).</p>
<p>Merges provided metadata with existing metadata. Existing keys are overwritten by new values.</p>
<section id="parameters-11" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-11">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>metadata</td>
<td>dict[str, Any]</td>
<td>Dict of metadata to merge</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-20" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-20">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Outline</td>
<td>New Outline object with updated metadata</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-22" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-22">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({"region": ["M 0 0"]})
&gt;&gt;&gt; geo2 = geo.update_metadata({
...     "source": "Wikimedia Commons",
...     "license": "CC BY-SA 3.0"
... })
&gt;&gt;&gt; geo2.metadata["source"]
'Wikimedia Commons'</code></pre>
</section>
</section>
<section id="shinymap.Outline.viewbox" class="level3">
<h3 class="anchored" data-anchor-id="shinymap.Outline.viewbox">viewbox</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>Outline.viewbox(padding<span class="op">=</span><span class="fl">0.02</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Get viewBox from metadata, or compute from outline coordinates.</p>
<p>Works with both v0.x (string paths) and v1.x (Element objects).</p>
<section id="parameters-12" class="level4 doc-section doc-section-parameters">
<h4 class="doc-section doc-section-parameters anchored" data-anchor-id="parameters-12">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 65%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>padding</td>
<td>float</td>
<td>Padding fraction for computed viewBox (default 2%)</td>
<td><code>0.02</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-21" class="level4 doc-section doc-section-returns">
<h4 class="doc-section doc-section-returns anchored" data-anchor-id="returns-21">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 8%">
<col style="width: 40%">
<col style="width: 51%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>tuple[float, float, float, float]</td>
<td>ViewBox tuple in format (x, y, width, height)</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-23" class="level4 doc-section doc-section-examples">
<h4 class="doc-section doc-section-examples anchored" data-anchor-id="examples-23">Examples</h4>
<pre class="pycon"><code>&gt;&gt;&gt; geo = Outline.from_dict({"a": ["M 0 0 L 100 100"]})
&gt;&gt;&gt; geo.viewbox()  # Returns with 2% padding
(-2.0, -2.0, 104.0, 104.0)</code></pre>


</section>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>